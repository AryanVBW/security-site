<!DOCTYPE html>
<html lang="en-us">

<head>
  <meta name="generator" content="Hugo 0.111.3">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title> Apache Logging security advisories </title>

  
  <meta name="description" content="Security information for Apache Logging"> 
  
  
  
  
  
  <meta name="robots" content="noindex">
  

  

  <meta name="author" content="">


  <meta property="og:title" content="Apache Logging security advisories" />
<meta property="og:description" content="Security information for Apache Logging" />
<meta property="og:type" content="website" />
<meta property="og:url" content="https://security.apache.org/projects/logging/" />

  




  
  
  
  
   <link href="/projects/logging/index.xml" rel="alternate" type="application/rss+xml" title="Apache Security Team" /> 

  <link rel="canonical" href="https://security.apache.org/projects/logging/">  

  <link href="/css/font.css" rel="stylesheet" type="text/css">
  <link href="/css/kube.min.css" rel="stylesheet" type="text/css">
  <link href="/css/kube.legenda.css" rel="stylesheet" type="text/css">
  <link href="/css/highlight.css" rel="stylesheet" type="text/css">
  <link href="/css/main.css" rel="stylesheet" type="text/css">
  

 <link href="/css/custom.css" rel="stylesheet" type="text/css">

  <script src="/js/jquery-2.1.4.min.js" type="text/javascript">
  </script>

  <script type="text/javascript" src="/js/tocbot.min.js"></script>
</head>


<body class="page-kube">
  <header> <div class="show-sm">
    <div id="nav-toggle-box">
      <div id="nav-toggle-brand">
        <a href="/">Apache Security Team</a>
      </div><a data-component="toggleme" data-target="#top" href="#" id="nav-toggle"><i class="kube-menu"></i></a>
    </div>
  </div>
  <div class="hide-sm" id="top">
    <div id="top-brand">
      <a href="/" title="home">Apache Security Team</a>
    </div>
    <nav id="top-nav-main">
      <ul>
       
       
    <li><a href="/blog" >Blog</a></li>
    
    <li><a href="https://www.apache.org/licenses/" >License</a></li>
    
    <li><a href="https://www.apache.org/foundation/sponsorship.html" >Sponsorship</a></li>
    
    <li><a href="https://www.apache.org/foundation/thanks.html" >Thanks</a></li>
    
    <li><a href="https://privacy.apache.org/policies/privacy-policy-public.html" >Privacy</a></li>
    
    <li><a href="https://www.apache.org" >Apache</a></li>
    
      </ul>
    </nav>
    <nav id="top-nav-extra"> 
      <ul>
          
      </ul>
    </nav>
  </div>
 </header>
  <main>

<div id="hero" class="wrap">
  <h1>Apache Logging security advisories</h1>
    <p>Security information for Apache Logging</p>
</div>
<div id="project-box">
<div id="project">

 <h1 id="reporting">Reporting</h1>
<p>Do you want disclose a potential security issue for Apache Logging? You can read more about the projects&rsquo; security policy on their <a href="None">security page</a>, and email your report to the  <a href="mailto:security@logging.apache.org">Apache Logging Security Team</a>.</p>
<h1 id="advisories">Advisories</h1>
<h2 id="CVE-2023-26464">Apache Log4j 1.x (EOL) allows DoS in Chainsaw and SocketAppender</h2>
<p><a href="./CVE-2023-26464.cve.json">CVE-2023-26464</a></p>
<h3 id="affected">Affected</h3>
<ul>
<li>Apache Log4j versions 1.0.4 before 22 including *</li>
</ul>
<h3 id="description">Description</h3>
<div>** UNSUPPORTED WHEN ASSIGNED **</div><div>When using the Chainsaw or SocketAppender components with Log4j 1.x on JRE less than 1.7, an attacker that manages to cause a logging entry involving a specially-crafted (ie, deeply nested) 
hashmap or hashtable (depending on which logging component is in use) to be processed could exhaust the available memory in the virtual machine and achieve Denial of Service when the object is deserialized.</div><div>This issue affects Apache Log4j before 2. Affected users are recommended to update to Log4j 2.x.</div><div>NOTE: This vulnerability only affects products that are no longer supported by the maintainer.<br></div><p></p>
<h2 id="CVE-2023-31038">SQL injection when using ODBC appender</h2>
<p><a href="./CVE-2023-31038.cve.json">CVE-2023-31038</a></p>
<h3 id="affected-1">Affected</h3>
<ul>
<li>Apache Log4cxx versions 0.9.0 before 1.1.0</li>
</ul>
<h3 id="description-1">Description</h3>
<div>SQL injection in Log4cxx when using the ODBC appender to send log messages to a database.&nbsp; No fields sent to the database were properly escaped for SQL injection.&nbsp; This has been the case since at least version 0.9.0(released 2003-08-06)</div><div><br></div><div>Note that Log4cxx is a C++ framework, so only C++ applications are affected.</div><div>Before version 1.1.0, the ODBC appender was automatically part of Log4cxx if the library was found when compiling the library.&nbsp; As of version 1.1.0, this must be both explicitly enabled in order to be compiled in.</div><div><br></div><div>Three preconditions must be met for this vulnerability to be possible:</div><div>1. Log4cxx compiled with ODBC support(before version 1.1.0, this was auto-detected at compile time)</div><div>2. ODBCAppender enabled for logging messages to, generally done via a config file</div><div>3. User input is logged at some point. If your application does not have user input, it is unlikely to be affected.<br></div><div><br></div><div>Users are recommended to upgrade to version 1.1.0 which properly binds the parameters to the SQL statement, or migrate to the new DBAppender class which supports an ODBC connection in addition to other databases. <br>Note that this fix does require a configuration file update, as the old configuration files will not configure properly.&nbsp; An example is shown below, and more information may be found in the Log4cxx documentation on the ODBCAppender.<br></div><div><br></div><div>Example of old configuration snippet:</div><div>&lt;appender name="SqlODBCAppender" class="ODBCAppender"&gt;</div><div>&nbsp;&nbsp;&nbsp; &lt;param name="sql" value="INSERT INTO logs (message) VALUES ('%m')" /&gt;</div><div>&nbsp;&nbsp;&nbsp; ... other params here ...</div><div>&lt;/appender&gt;</div><div><br></div><div>The migrated configuration snippet with new ColumnMapping parameters:<br></div><div>&lt;appender name="SqlODBCAppender" class="ODBCAppender"&gt;<br></div><div><div></div><div>&nbsp; &nbsp; &lt;param name="sql" value="INSERT INTO logs (message) VALUES (?)" /&gt;</div><div>&nbsp;&nbsp;&nbsp; &lt;param name="ColumnMapping" value="message"/&gt;<br>&nbsp;&nbsp;&nbsp; ... other params here ...<br></div><div>&lt;/appender&gt;<br></div><br></div>
  
</div>
</div>
</main>
  <footer> 
    <footer id="footer">
    <p>&copy; 2023 The Apache Software Foundation. Built using the <a href="https://github.com/jeblister/kube" target="_blank" rel="noopener noreferrer">kube Theme for Hugo</a>. Apache and the Apache feather logo are either registered trademarks or trademarks of The Apache Software Foundation in the United States and other countries.</p>
  </footer>
 
</footer>


  <script src="/js/kube.js" type="text/javascript">
  </script>
  <script src="/js/kube.legenda.js" type="text/javascript">
  </script>
  <script src="/js/main.js" type="text/javascript">
  </script>
</body>

</html>
