<!DOCTYPE html>
<html lang="en-us">

<head>
  <meta name="generator" content="Hugo 0.111.3">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title> Apache Kafka security advisories </title>

  
  <meta name="description" content="Security information for Apache Kafka"> 
  
  
  
  
  
  <meta name="robots" content="noindex">
  

  

  <meta name="author" content="">


  <meta property="og:title" content="Apache Kafka security advisories" />
<meta property="og:description" content="Security information for Apache Kafka" />
<meta property="og:type" content="website" />
<meta property="og:url" content="https://security.apache.org/projects/kafka/" />

  




  
  
   <link href="/projects/kafka/index.xml" rel="alternate" type="application/rss+xml" title="Apache Security Team" /> 

  <link rel="canonical" href="https://security.apache.org/projects/kafka/">  

  <link href="/css/font.css" rel="stylesheet" type="text/css">
  <link href="/css/kube.min.css" rel="stylesheet" type="text/css">
  <link href="/css/kube.legenda.css" rel="stylesheet" type="text/css">
  <link href="/css/highlight.css" rel="stylesheet" type="text/css">
  <link href="/css/main.css" rel="stylesheet" type="text/css">
  

 <link href="/css/custom.css" rel="stylesheet" type="text/css">

  <script src="/js/jquery-2.1.4.min.js" type="text/javascript">
  </script>

  <script type="text/javascript" src="/js/tocbot.min.js"></script>
</head>


<body class="page-kube">
  <header> <div class="show-sm">
    <div id="nav-toggle-box">
      <div id="nav-toggle-brand">
        <a href="/">Apache Security Team</a>
      </div><a data-component="toggleme" data-target="#top" href="#" id="nav-toggle"><i class="kube-menu"></i></a>
    </div>
  </div>
  <div class="hide-sm" id="top">
    <div id="top-brand">
      <a href="/" title="home">Apache Security Team</a>
    </div>
    <nav id="top-nav-main">
      <ul>
       
       
    <li><a href="/blog" >Blog</a></li>
    
    <li><a href="https://www.apache.org/licenses/" >License</a></li>
    
    <li><a href="https://www.apache.org/foundation/sponsorship.html" >Sponsorship</a></li>
    
    <li><a href="https://www.apache.org/foundation/thanks.html" >Thanks</a></li>
    
    <li><a href="https://privacy.apache.org/policies/privacy-policy-public.html" >Privacy</a></li>
    
    <li><a href="https://www.apache.org" >Apache</a></li>
    
      </ul>
    </nav>
    <nav id="top-nav-extra"> 
      <ul>
          
      </ul>
    </nav>
  </div>
 </header>
  <main>

<div id="hero" class="wrap">
  <h1>Apache Kafka security advisories</h1>
    <p>Security information for Apache Kafka</p>
</div>
<div id="project-box">
<div id="project">

 <h1 id="reporting">Reporting</h1>
<p>Do you want disclose a potential security issue for Apache Kafka? You can read more about the projects&rsquo; security policy on their <a href="https://kafka.apache.org/project-security.html">security page</a>, and email your report to the <a href="mailto:security@kafka.apache.org">Apache Kafka Security Team</a>.</p>
<h1 id="advisories">Advisories</h1>
<p class="bg-warning">This section is experimental: it provides advisories since 2023 and may lag behind the official CVE publications. It may also lack details found on the <a href="https://kafka.apache.org/project-security.html">project security page</a>. If you have any feedback on how you would like this data to be provided, you are welcome to reach out on our public <a href="/mailinglist">mailinglist</a> or privately on <a href="mailto:security@apache.org">security@apache.org</a></p>
<h2 id="CVE-2021-38153">Timing Attack Vulnerability for Apache Kafka Connect and Clients</h2>
<p>CVE-2021-38153 <a href="./CVE-2021-38153.cve.json">[CVE json]</a> <a href="./CVE-2021-38153.osv.json">[OSV json]</a></p>
<p><em>Last updated: 2021-09-22T08:43:16.777Z</em></p>
<h3 id="affected">Affected</h3>
<ul>
<li>Apache Kafka from Apache Kafka 2.0.x through 2.0.1</li>
<li>Apache Kafka from Apache Kafka 2.1.x through 2.1.1</li>
<li>Apache Kafka from Apache Kafka 2.2.x through 2.2.2</li>
<li>Apache Kafka from Apache Kafka 2.3.x through 2.3.1</li>
<li>Apache Kafka from Apache Kafka 2.4.x through 2.4.1</li>
<li>Apache Kafka from Apache Kafka 2.5.x through 2.5.1</li>
<li>Apache Kafka from Apache Kafka 2.6.x through 2.6.2</li>
<li>Apache Kafka from Apache Kafka 2.7.x through 2.7.1</li>
<li>Apache Kafka from Apache Kafka 2.8.x through 2.8.0</li>
</ul>
<h3 id="description">Description</h3>
<p>Some components in Apache Kafka use <code>Arrays.equals</code> to validate a password or key, which is vulnerable to timing attacks that make brute force attacks for such credentials more likely to be successful. Users should upgrade to 2.8.1 or higher, or 3.0.0 or higher where this vulnerability has been fixed. The affected versions include Apache Kafka 2.0.0, 2.0.1, 2.1.0, 2.1.1, 2.2.0, 2.2.1, 2.2.2, 2.3.0, 2.3.1, 2.4.0, 2.4.1, 2.5.0, 2.5.1, 2.6.0, 2.6.1, 2.6.2, 2.7.0, 2.7.1, and 2.8.0.</p>
<h3 id="references">References</h3>
<ul>
<li><a href="https://kafka.apache.org/cve-list">https://kafka.apache.org/cve-list</a></li>
</ul>
<h3 id="credits">Credits</h3>
<ul>
<li>Apache Kafka would like to thank J. Santilli for reporting this issue.</li>
</ul>
<h2 id="CVE-2022-34917">Unauthenticated clients may cause OutOfMemoryError on Apache Kafka Brokers</h2>
<p>CVE-2022-34917 <a href="./CVE-2022-34917.cve.json">[CVE json]</a> <a href="./CVE-2022-34917.osv.json">[OSV json]</a></p>
<p><em>Last updated: 2022-09-30T05:44:20.899Z</em></p>
<h3 id="affected-1">Affected</h3>
<ul>
<li>Apache Kafka at Apache Kafka 2.8.0 2.8.0</li>
<li>Apache Kafka at Apache Kafka 2.8.1 2.8.1</li>
<li>Apache Kafka at Apache Kafka 3.0.0 3.0.0</li>
<li>Apache Kafka at Apache Kafka 3.0.1 3.0.1</li>
<li>Apache Kafka at Apache Kafka 3.1.0 3.1.0</li>
<li>Apache Kafka at Apache Kafka 3.1.1 3.1.1</li>
<li>Apache Kafka at Apache Kafka 3.2.0 3.2.0</li>
<li>Apache Kafka at Apache Kafka 3.2.1 3.2.1</li>
</ul>
<h3 id="description-1">Description</h3>
<p>A security vulnerability has been identified in Apache Kafka. It affects all releases since 2.8.0. The vulnerability allows malicious
unauthenticated clients to allocate large amounts of memory on brokers. This can lead to brokers hitting OutOfMemoryException and
causing denial of service.</p>
<p>Example scenarios:</p>
<ul>
<li>Kafka cluster without authentication: Any clients able to establish
a network connection to a broker can trigger the issue.</li>
<li>Kafka cluster with SASL authentication: Any clients able to
establish a network connection to a broker, without the need for valid
SASL credentials, can trigger the issue.</li>
<li>Kafka cluster with TLS authentication: Only clients able to
successfully authenticate via TLS can trigger the issue.</li>
</ul>
<p>We advise the users to upgrade the Kafka installations to one of the 3.2.3, 3.1.2, 3.0.2, 2.8.2 versions.</p>
<h3 id="references-1">References</h3>
<ul>
<li><a href="https://kafka.apache.org/cve-list">https://kafka.apache.org/cve-list</a></li>
</ul>
<h3 id="credits-1">Credits</h3>
<ul>
<li>Apache Kafka would like to thank Mickael Maison, Tom Bentley and Daniel Collins for reporting this issue.</li>
</ul>
<h2 id="CVE-2023-25194">Possible RCE/Denial of service attack via SASL JAAS JndiLoginModule configuration using Kafka Connect </h2>
<p>CVE-2023-25194 <a href="./CVE-2023-25194.cve.json">[CVE json]</a></p>
<p><em>Last updated: 2023-07-21T11:35:22.991Z</em></p>
<h3 id="affected-2">Affected</h3>
<ul>
<li>Apache Kafka Connect API from 2.3.0 before 3.4.0</li>
</ul>
<h3 id="description-2">Description</h3>
<p>A possible security vulnerability has been identified in Apache Kafka Connect API.<br>This requires access to a Kafka Connect worker, and the ability to create/modify connectors on it with an arbitrary Kafka client SASL JAAS config<br>and a SASL-based security protocol, which has been possible on Kafka Connect clusters since Apache Kafka Connect 2.3.0.<br>When configuring the connector via the Kafka Connect REST API, an <span style="background-color: rgb(255, 255, 255);">authenticated operator</span> can set the <span style="background-color: rgb(255, 255, 255);"><code>sasl.jaas.config</code><br></span>property for any of the connector&rsquo;s Kafka clients to &ldquo;com.sun.security.auth.module.JndiLoginModule&rdquo;, which can be done via the<br><code>producer.override.sasl.jaas.config</code>, <code>consumer.override.sasl.jaas.config</code>, or <code>admin.override.sasl.jaas.config</code> properties.<br>This will allow the server to connect to the attacker&rsquo;s LDAP server<br>and deserialize the LDAP response, which the attacker can use to execute java deserialization gadget chains on the Kafka connect server.<br>Attacker can cause <span style="background-color: rgb(255, 255, 255);">unrestricted deserialization of untrusted data (or) </span>RCE vulnerability when there are gadgets in the classpath.<br><br>Since Apache Kafka 3.0.0, users are allowed to specify these properties in connector configurations for Kafka Connect clusters running with out-of-the-box<br>configurations. Before Apache Kafka 3.0.0, users may not specify these properties unless the Kafka Connect cluster has been reconfigured with a connector<br>client override policy that permits them.<br><br>Since Apache Kafka 3.4.0, we have added a system property (&quot;-Dorg.apache.kafka.disallowed.login.modules&quot;) to disable the problematic login modules usage<br>in SASL JAAS configuration. Also by default &ldquo;com.sun.security.auth.module.JndiLoginModule&rdquo; is disabled in Apache Kafka Connect 3.4.0. <br><br>We advise the Kafka Connect users to validate connector configurations and only allow trusted JNDI configurations. Also examine connector dependencies for <br>vulnerable versions and either upgrade their connectors, upgrading that specific dependency, or removing the connectors as options for remediation. Finally,<br><span style="background-color: rgb(255, 255, 255);">in addition to leveraging the &ldquo;org.apache.kafka.disallowed.login.modules&rdquo; system property, Kafka Connect users can also implement their own connector<br>client config override policy, which can be used to control which Kafka client properties can be overridden directly in a connector config and which cannot.</span><br></p>
<h3 id="references-2">References</h3>
<ul>
<li><a href="https://kafka.apache.org/cve-list">https://kafka.apache.org/cve-list</a></li>
<li><a href="https://lists.apache.org/thread/vy1c7fqcdqvq5grcqp6q5jyyb302khyz">https://lists.apache.org/thread/vy1c7fqcdqvq5grcqp6q5jyyb302khyz</a></li>
<li><a href="http://packetstormsecurity.com/files/173151/Apache-Druid-JNDI-Injection-Remote-Code-Execution.html">http://packetstormsecurity.com/files/173151/Apache-Druid-JNDI-Injection-Remote-Code-Execution.html</a></li>
</ul>
<h3 id="credits-2">Credits</h3>
<ul>
<li>Apache Kafka would like to thank to Jari Jääskelä (<a href="https://hackerone.com/reports/1529790">https://hackerone.com/reports/1529790</a>) and 4ra1n and Y4tacker (they found vulnerabilities in other Apache projects. After discussion between PMC of the two projects, it was finally confirmed that it was the vulnerability of Kafka then they reported it to us) (finder)</li>
</ul>
<h2 id="CVE-2024-27309">Potential incorrect access control during migration from ZK mode to KRaft mode</h2>
<p>CVE-2024-27309 <a href="./CVE-2024-27309.cve.json">[CVE json]</a> <a href="./CVE-2024-27309.osv.json">[OSV json]</a></p>
<p><em>Last updated: 2024-04-12T06:58:42.007Z</em></p>
<h3 id="affected-3">Affected</h3>
<ul>
<li>Apache Kafka from 3.5.0 through 3.5.2</li>
<li>Apache Kafka from 3.6.0 through 3.6.1</li>
</ul>
<h3 id="description-3">Description</h3>
<div><div><div><div><div><div><div><div><div><div><div><div>While an Apache Kafka cluster is being migrated from ZooKeeper mode to KRaft mode, in some cases ACLs will not be correctly enforced.</div><div><br>Two preconditions are needed to trigger the bug:<br>1. The administrator decides to remove an ACL<br>2. The resource associated with the removed ACL continues to have two or more other ACLs associated with it after the removal.<br><br>When those two preconditions are met, Kafka will treat the resource as if it had only one ACL associated with it after the removal, rather than the two or more that would be correct.</div><br><div>The incorrect condition is cleared by removing all brokers in ZK mode, or by adding a new ACL to the affected resource. Once the migration is completed, there is no metadata loss (the ACLs all remain).</div><br><div>The full impact depends on the ACLs in use. If only ALLOW ACLs were configured during the migration, the impact would be limited to availability impact. if DENY ACLs were configured, the impact could include confidentiality and integrity impact depending on the ACLs configured, as the DENY ACLs might be ignored due to this vulnerability during the migration period.</div></div></div></div></div></div></div></div></div></div></div></div><div><div><div><div><div><div></div></div></div></div></div></div>
<h3 id="references-3">References</h3>
<ul>
<li><a href="https://lists.apache.org/thread/6536rmzyg076lzzdw2xdktvnz163mjpy">https://lists.apache.org/thread/6536rmzyg076lzzdw2xdktvnz163mjpy</a></li>
</ul>

  
</div>
</div>
</main>
  <footer> 
    <footer id="footer">
    <p>&copy; 2023 The Apache Software Foundation. Built using the <a href="https://github.com/jeblister/kube" target="_blank" rel="noopener noreferrer">kube Theme for Hugo</a>. Apache and the Apache feather logo are either registered trademarks or trademarks of The Apache Software Foundation in the United States and other countries.</p>
  </footer>
 
</footer>


  <script src="/js/kube.js" type="text/javascript">
  </script>
  <script src="/js/kube.legenda.js" type="text/javascript">
  </script>
  <script src="/js/main.js" type="text/javascript">
  </script>
</body>

</html>
