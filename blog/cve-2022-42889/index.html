<!DOCTYPE html>
<html lang="en-us">

<head>
  <meta name="generator" content="Hugo 0.111.3">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title> CVE-2022-42889: interpolations that allow RCE disabled in Commons Text 1.10.0 </title>

  
  <meta name="description" content="Find out if you should worry about CVE-2022-42889, which was recently released by the Apache Commons Text team"> 
  
  
  
  
  

  

  <meta name="author" content="Arnout Engelen">


  <meta property="og:title" content="CVE-2022-42889: interpolations that allow RCE disabled in Commons Text 1.10.0" />
<meta property="og:description" content="Find out if you should worry about CVE-2022-42889, which was recently released by the Apache Commons Text team" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://security.apache.org/blog/cve-2022-42889/" /><meta property="article:section" content="blog" />
<meta property="article:published_time" content="2022-10-18T00:00:00+00:00" />
<meta property="article:modified_time" content="2022-10-18T00:00:00+00:00" />

  




  
  
  
  
  

  <link rel="canonical" href="https://security.apache.org/blog/cve-2022-42889/">  

  <link href="/css/font.css" rel="stylesheet" type="text/css">
  <link href="/css/kube.min.css" rel="stylesheet" type="text/css">
  <link href="/css/kube.legenda.css" rel="stylesheet" type="text/css">
  <link href="/css/highlight.css" rel="stylesheet" type="text/css">
  <link href="/css/main.css" rel="stylesheet" type="text/css">
  

 <link href="/css/custom.css" rel="stylesheet" type="text/css">

  <script src="/js/jquery-2.1.4.min.js" type="text/javascript">
  </script>

  <script type="text/javascript" src="/js/tocbot.min.js"></script>
</head>


<body class="page-kube">
  <header> <div class="show-sm">
    <div id="nav-toggle-box">
      <div id="nav-toggle-brand">
        <a href="/">Apache Security Team</a>
      </div><a data-component="toggleme" data-target="#top" href="#" id="nav-toggle"><i class="kube-menu"></i></a>
    </div>
  </div>
  <div class="hide-sm" id="top">
    <div id="top-brand">
      <a href="/" title="home">Apache Security Team</a>
    </div>
    <nav id="top-nav-main">
      <ul>
       
       
    <li><a href="/blog" >Blog</a></li>
    
    <li><a href="https://www.apache.org/licenses/" >License</a></li>
    
    <li><a href="https://www.apache.org/foundation/sponsorship.html" >Sponsorship</a></li>
    
    <li><a href="https://www.apache.org/foundation/thanks.html" >Thanks</a></li>
    
    <li><a href="https://privacy.apache.org/policies/privacy-policy-public.html" >Privacy</a></li>
    
    <li><a href="https://www.apache.org" >Apache</a></li>
    
      </ul>
    </nav>
    <nav id="top-nav-extra"> 
      <ul>
          
      </ul>
    </nav>
  </div>
 </header>
  <main>
<div class="push-center" itemscope itemtype="http://schema.org/BlogPosting">
  <meta itemprop="name" content="CVE-2022-42889: interpolations that allow RCE disabled in Commons Text 1.10.0">
<meta itemprop="description" content="Find out if you should worry about CVE-2022-42889, which was recently released by the Apache Commons Text team"><meta itemprop="datePublished" content="2022-10-18T00:00:00+00:00" />
<meta itemprop="dateModified" content="2022-10-18T00:00:00+00:00" />
<meta itemprop="wordCount" content="348">
<meta itemprop="keywords" content="" />
  <div id="hero">
    <h1 itemprop="headline">CVE-2022-42889: interpolations that allow RCE disabled in Commons Text 1.10.0</h1>
    
    <blockquote itemprop="description">Find out if you should worry about CVE-2022-42889, which was recently released by the Apache Commons Text team</blockquote>
    
    <time class="post-time"><span class="icon">
  <i class="fa fa-clock-o" aria-hidden="true"></i>
</span>
<span>2 minute read</span>
<span class="icon">
 <i class="fa fa-pencil" aria-hidden="true"></i>
</span>

  Published: <time datetime="2022-10-18T00:00:00&#43;00:00">18 Oct, 2022</time>

</time>
  </div>
  <div id="post-box">
    <div id="post" itemprop="articleBody"><p>On 2022-10-13, the <a href="https://commons.apache.org/proper/commons-text">Apache Commons Text</a> team disclosed <a href="https://www.cve.org/CVERecord?id=CVE-2022-42889">CVE-2022-42889</a>. Key takeaways:</p>
<ul>
<li>If you rely on software that uses a version of commons-text prior to 1.10.0, you are likely still not vulnerable: you are only affected when this software uses the <code>StringSubstitutor</code> API without properly sanitizing any untrusted input.</li>
<li>If your own software uses commons-text, double-check whether it uses the <code>StringSubstitutor</code> API without properly sanitizing any untrusted input. If so, an update to 1.10.0 could be a quick workaround, but the recommended solution is to also properly validate and sanitize any untrusted input.</li>
</ul>
<p>Apache Commons Text is a low-level library for performing various text operations, such as escaping, calculating string differences, and substituting placeholders in the text with values looked up through interpolators. When using the string substitution feature, some of the available interpolators can trigger network access or code execution. This is intended, but it also means an application that includes user input in the string passed to the substitution without properly sanitizing it would allow an attacker to trigger those interpolators.</p>
<p>For that reason the Apache Commons Text team have decided to update the configuration to be more &ldquo;secure by default&rdquo;, so that the impact of a failure to validate inputs is mitigated and will not give an attacker access to these interpolators. However, it is still recommended that users treat untrusted input with care.</p>
<p>We&rsquo;re not currently aware of any applications that pass untrusted input to the substitutor and thus would have been impacted by this problem prior to Apache Commons Text 1.10.0.</p>
<p>This issue is different from <a href="https://logging.apache.org/log4j/2.x/security.html">Log4Shell (CVE-2021-44228)</a> because in Log4Shell, string interpolation was possible from the log message body, which commonly contains untrusted input. In the Apache Common Text issue, the relevant method is explicitly intended and clearly documented to perform string interpolation, so it is much less likely that applications would inadvertently pass in untrusted input without proper validation.</p>
<p>Credit: this issue was reported independently by Ruilin and by <a href="https://github.com/pwntester">@pwntester (Alvaro Mu√±oz)</a> of the <a href="https://securitylab.github.com/">GitHub Security Lab team</a>. Thank you!</p>
<p>References:</p>
<ul>
<li><a href="https://lists.apache.org/thread/n2bd4vdsgkqh2tm14l1wyc3jyol7s1om">Announcement on dev@commons.apache.org</a></li>
<li><a href="https://www.openwall.com/lists/oss-security/2022/10/13/4">Announcement on oss-security</a></li>
<li><a href="https://www.cve.org/CVERecord?id=CVE-2022-42889">Advisory on cve.org</a></li>
<li><a href="https://securitylab.github.com/advisories/GHSL-2022-018_Apache_Commons_Text/">GHSL advisory</a></li>
</ul>
</div>

    <div class="">
      <p>
  Published
  
    
      by <span itemprop="author">Arnout Engelen</span>
    
  
  <time datetime="2022-10-18T00:00:00&#43;00:00">
    18 Oct, 2022
  </time>
  
  
  using <span itemprop="wordCount">348</span> words.
</p>
 



    </div>
    </div>
  </div>
  </main>
  <footer>   <footer id="footer">
    <p>&copy; 2023 The Apache Software Foundation. Built using the <a href="https://github.com/jeblister/kube" target="_blank" rel="noopener noreferrer">kube Theme for Hugo</a>. Apache and the Apache feather logo are either registered trademarks or trademarks of The Apache Software Foundation in the United States and other countries.</p>
  </footer>
 </footer>


  <script src="/js/kube.js" type="text/javascript">
  </script>
  <script src="/js/kube.legenda.js" type="text/javascript">
  </script>
  <script src="/js/main.js" type="text/javascript">
  </script>
</body>

</html>
